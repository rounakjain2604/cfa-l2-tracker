<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LM1: Multiple Regression | CFA L2</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Mali:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap"
        rel="stylesheet">

    <!-- KaTeX -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {delimiters: [{left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}]});"></script>

    <style>
        :root {
            --bg: #F8F6F3;
            --paper: #FFFEF9;
            --ink: #0D0D0D;
            --ink-light: #555555;
            --accent: #6C5CE7;
            --teal: #00B894;
            --coral: #FF4B2B;
            --hl-yellow: rgba(253, 203, 110, 0.55);
            --hl-pink: rgba(253, 167, 167, 0.5);
            --hl-green: rgba(129, 236, 168, 0.5);
            --hl-purple: rgba(162, 155, 254, 0.5);
            --border: #E8E4E0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Mali', cursive;
            background: var(--bg);
            color: var(--ink);
            font-size: 15px;
            line-height: 1.65;
            overflow-x: hidden;
            min-height: 100vh;
        }

        .header {
            background: var(--paper);
            padding: 16px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid var(--border);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .header h1 {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--coral);
            margin-bottom: 4px;
        }

        .header p {
            font-size: 0.75rem;
            color: var(--ink-light);
        }

        .nav-pills {
            display: flex;
            gap: 8px;
            padding: 12px 16px;
            overflow-x: auto;
            background: var(--paper);
            border-bottom: 1px solid var(--border);
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }

        .nav-pills::-webkit-scrollbar {
            display: none;
        }

        .nav-pill {
            flex-shrink: 0;
            padding: 8px 14px;
            font-size: 0.8rem;
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            background: white;
            border: 1px solid var(--border);
            border-radius: 20px;
            color: var(--ink-light);
            cursor: pointer;
            transition: all 0.2s;
        }

        .nav-pill.active {
            background: var(--coral);
            border-color: var(--coral);
            color: white;
        }

        .content {
            padding: 20px;
            max-width: 100%;
            background: var(--paper);
            min-height: calc(100vh - 120px);
        }

        .section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(8px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h2 {
            font-size: 1.15rem;
            font-weight: 700;
            color: var(--ink);
            margin-bottom: 12px;
            padding-bottom: 6px;
            border-bottom: 2px solid var(--coral);
        }

        h3 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--accent);
            margin: 18px 0 10px;
        }

        h4 {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--ink);
            margin: 14px 0 8px;
        }

        p {
            margin-bottom: 12px;
            word-wrap: break-word;
        }

        ul,
        ol {
            margin: 0 0 12px 20px;
        }

        li {
            margin-bottom: 6px;
        }

        .hl {
            background: var(--hl-yellow);
            padding: 1px 4px;
            border-radius: 3px;
        }

        .hl-pink {
            background: var(--hl-pink);
            padding: 1px 4px;
            border-radius: 3px;
        }

        .hl-green {
            background: var(--hl-green);
            padding: 1px 4px;
            border-radius: 3px;
        }

        .hl-purple {
            background: var(--hl-purple);
            padding: 1px 4px;
            border-radius: 3px;
        }

        .formula-box {
            background: linear-gradient(135deg, #F5F3FF 0%, #E8E5FF 100%);
            border: 2px solid var(--accent);
            border-radius: 10px;
            padding: 14px 16px;
            margin: 14px 0;
            text-align: center;
        }

        .formula-box .label {
            font-family: 'Inter', sans-serif;
            font-size: 0.65rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--accent);
            margin-bottom: 8px;
        }

        .formula-box .formula {
            font-size: 1rem;
            font-weight: 700;
            color: var(--ink);
            word-break: break-word;
        }

        .formula-box .desc {
            font-size: 0.8rem;
            color: var(--ink-light);
            margin-top: 8px;
        }

        .note {
            background: #FFFBF0;
            border-left: 3px solid #F0C36D;
            padding: 12px 14px;
            margin: 12px 0;
            border-radius: 0 8px 8px 0;
        }

        .note.tip {
            background: #F0FFF8;
            border-left-color: var(--teal);
        }

        .note.warn {
            background: #FFF5F3;
            border-left-color: var(--coral);
        }

        .note.info {
            background: #F5F3FF;
            border-left-color: var(--accent);
        }

        .note-title {
            font-weight: 700;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
            color: var(--ink);
        }

        .note p {
            margin-bottom: 4px;
            font-size: 0.9rem;
        }

        .table-wrap {
            width: 100%;
            overflow-x: auto;
            margin: 12px 0;
            -webkit-overflow-scrolling: touch;
        }

        table {
            width: 100%;
            min-width: 280px;
            border-collapse: collapse;
            font-size: 0.85rem;
        }

        th {
            background: #5D4E9E;
            color: white;
            padding: 10px 12px;
            text-align: left;
            font-family: 'Inter', sans-serif;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        td {
            padding: 10px 12px;
            border-bottom: 1px solid var(--border);
            vertical-align: top;
            background: white;
        }

        tr:nth-child(even) td {
            background: #FAFAFA;
        }

        .card {
            background: white;
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 14px 16px;
            margin: 12px 0;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
        }

        .example {
            background: linear-gradient(135deg, #FFF9F0 0%, #FFF5E8 100%);
            border: 1px solid #F0D9B5;
            border-radius: 10px;
            padding: 14px 16px;
            margin: 14px 0;
        }

        .example-title {
            font-size: 0.8rem;
            font-weight: 700;
            color: #C0792A;
            margin-bottom: 10px;
        }

        .key-point {
            background: linear-gradient(135deg, #FFF5F0 0%, #FFECE8 100%);
            border-left: 3px solid var(--coral);
            border-radius: 0 8px 8px 0;
            padding: 12px 14px;
            margin: 12px 0;
        }

        .key-point::before {
            content: "üí° KEY";
            display: block;
            font-family: 'Inter', sans-serif;
            font-size: 0.65rem;
            font-weight: 700;
            color: var(--coral);
            margin-bottom: 6px;
        }

        .exam-tip {
            background: #F0FFF8;
            border-left: 3px solid var(--teal);
            border-radius: 0 8px 8px 0;
            padding: 12px 14px;
            margin: 12px 0;
        }

        .exam-tip::before {
            content: "üìù EXAM TIP";
            display: block;
            font-family: 'Inter', sans-serif;
            font-size: 0.65rem;
            font-weight: 700;
            color: var(--teal);
            margin-bottom: 6px;
        }

        .trap {
            background: #FFF5F3;
            border-left: 3px solid var(--coral);
            border-radius: 0 8px 8px 0;
            padding: 12px 14px;
            margin: 12px 0;
        }

        .trap::before {
            content: "‚ö†Ô∏è EXAM TRAP";
            display: block;
            font-family: 'Inter', sans-serif;
            font-size: 0.65rem;
            font-weight: 700;
            color: var(--coral);
            margin-bottom: 6px;
        }

        code {
            background: #F5F3FF;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            color: var(--accent);
        }

        .flow-diagram {
            background: white;
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 16px;
            margin: 14px 0;
        }

        .flow-step {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px dashed var(--border);
        }

        .flow-step:last-child {
            border-bottom: none;
        }

        .flow-num {
            background: var(--accent);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 700;
            flex-shrink: 0;
        }

        .flow-text {
            flex: 1;
            font-size: 0.9rem;
        }

        .footer-spacer {
            height: 80px;
        }

        sub,
        sup {
            font-size: 0.7em;
        }
    </style>
</head>

<body>

    <header class="header">
        <h1>üìê LM 1: Multiple Regression Basics</h1>
        <p>Quantitative Methods ‚Ä¢ CFA Level II</p>
    </header>

    <nav class="nav-pills">
        <button class="nav-pill active" data-section="overview">Overview</button>
        <button class="nav-pill" data-section="equation">Equation</button>
        <button class="nav-pill" data-section="interpret">Interpret</button>
        <button class="nav-pill" data-section="assumptions">Assumptions</button>
        <button class="nav-pill" data-section="diagnostics">Diagnostics</button>
        <button class="nav-pill" data-section="output">Output</button>
        <button class="nav-pill" data-section="traps">Traps</button>
    </nav>

    <main class="content">

        <!-- OVERVIEW -->
        <section class="section active" id="overview">
            <h2>üìå What is Multiple Regression?</h2>

            <p><span class="hl">Multiple Linear Regression</span> uses <strong>two or more independent
                    variables</strong> to explain/predict a dependent variable ‚Äî unlike simple regression which uses
                just one.</p>

            <h3>Why Use It?</h3>
            <ul>
                <li><strong>Factor Models:</strong> Explain stock returns using market, size, value factors
                    (Fama-French)</li>
                <li><strong>Forecasting:</strong> Predict earnings, bond yields, house prices</li>
                <li><strong>Test Theories:</strong> Does ESG score affect country equity returns?</li>
                <li><strong>Risk Analysis:</strong> Predict financial distress using leverage, profitability, growth
                </li>
            </ul>

            <div class="key-point">
                The power of multiple regression: It <strong>isolates</strong> each variable's effect while
                <strong>holding others constant</strong>.
            </div>

            <h3>The Regression Process</h3>
            <div class="flow-diagram">
                <div class="flow-step"><span class="flow-num">1</span><span class="flow-text">Is $Y$ continuous? ‚Üí If
                        no, use <strong>Logistic Regression</strong></span></div>
                <div class="flow-step"><span class="flow-num">2</span><span class="flow-text">Specify the model (choose
                        $Y$ and $X$s)</span></div>
                <div class="flow-step"><span class="flow-num">3</span><span class="flow-text">Estimate using software
                        (Excel, Python, R)</span></div>
                <div class="flow-step"><span class="flow-num">4</span><span class="flow-text">Check assumptions
                        (residual plots)</span></div>
                <div class="flow-step"><span class="flow-num">5</span><span class="flow-text">Evaluate fit (Is $F$-stat
                        significant?)</span></div>
                <div class="flow-step"><span class="flow-num">6</span><span class="flow-text">If OK ‚Üí Use for
                        prediction/analysis</span></div>
            </div>

            <div class="trap">
                If the dependent variable is <strong>binary</strong> (0/1, Yes/No, Bankrupt/Not), you CANNOT use linear
                regression. Use <strong>Logistic Regression</strong> instead.
            </div>
        </section>

        <!-- EQUATION -->
        <section class="section" id="equation">
            <h2>üìê The Multiple Regression Equation</h2>

            <div class="formula-box">
                <div class="label">General Form</div>
                <div class="formula">$$Y_i = \beta_0 + \beta_1 X_{1i} + \beta_2 X_{2i} + \cdots + \beta_k X_{ki} +
                    \varepsilon_i$$</div>
                <div class="desc">$i = 1, 2, \ldots, n$ observations</div>
            </div>

            <div class="table-wrap">
                <table>
                    <tr>
                        <th>Term</th>
                        <th>Name</th>
                        <th>Meaning</th>
                    </tr>
                    <tr>
                        <td>$Y_i$</td>
                        <td>Dependent Variable</td>
                        <td>What you're predicting (returns, price, earnings)</td>
                    </tr>
                    <tr>
                        <td>$\beta_0$</td>
                        <td>Intercept</td>
                        <td>Value of $Y$ when ALL $X$s = 0</td>
                    </tr>
                    <tr>
                        <td>$\beta_j$</td>
                        <td>Partial Slope Coefficient</td>
                        <td>Change in $Y$ for 1-unit change in $X_j$, <em>holding all other $X$ constant</em></td>
                    </tr>
                    <tr>
                        <td>$\varepsilon_i$</td>
                        <td>Error Term</td>
                        <td>Random noise the model can't explain</td>
                    </tr>
                    <tr>
                        <td>$k$</td>
                        <td># of Independent Variables</td>
                        <td>How many $X$s in the model</td>
                    </tr>
                    <tr>
                        <td>$n$</td>
                        <td># of Observations</td>
                        <td>Sample size (must be > $k$)</td>
                    </tr>
                </table>
            </div>

            <h3>Deterministic vs. Stochastic</h3>
            <div class="card">
                <ul>
                    <li><strong>Deterministic part:</strong> $\beta_0 + \beta_1 X_1 + \cdots + \beta_k X_k$ ‚Äî the
                        explained portion</li>
                    <li><strong>Stochastic part:</strong> $\varepsilon_i$ ‚Äî random, unexplained variation</li>
                </ul>
            </div>
        </section>

        <!-- INTERPRET -->
        <section class="section" id="interpret">
            <h2>üîç Interpreting Coefficients</h2>

            <h3>The Intercept ($\beta_0$)</h3>
            <div class="card">
                <p><strong>Definition:</strong> The expected value of $Y$ when ALL independent variables are zero.</p>
                <p>‚ö†Ô∏è Sometimes purely theoretical (a house with 0 sqft doesn't exist), but it's the mathematical
                    anchor.</p>
            </div>

            <h3>Slope Coefficients ($\beta_1, \beta_2, \ldots$)</h3>

            <div class="key-point">
                <strong>THE GOLDEN RULE:</strong> Always add the phrase <span class="hl">"holding all other independent
                    variables constant"</span> when interpreting slopes.
            </div>

            <div class="example">
                <div class="example-title">üìä Bond Index Returns</div>
                <p>$$\text{RET} = 0.0023 - 5.0585 \cdot \text{BY} - 2.1901 \cdot \text{CS}$$</p>
                <ul>
                    <li><strong>Intercept (0.0023):</strong> ~0.028% annual return if bond yields and credit spreads
                        don't change</li>
                    <li><strong>BY coef (‚àí5.0585):</strong> 1% ‚Üë in govt bond yield ‚Üí 5.06% ‚Üì in returns, <em>holding CS
                            constant</em></li>
                    <li><strong>CS coef (‚àí2.1901):</strong> 1% ‚Üë in credit spreads ‚Üí 2.19% ‚Üì in returns, <em>holding BY
                            constant</em></li>
                </ul>
            </div>

            <h3>Making Predictions</h3>
            <div class="formula-box">
                <div class="label">Predicted Value</div>
                <div class="formula">$$\hat{Y} = \hat{\beta}_0 + \hat{\beta}_1 X_1 + \hat{\beta}_2 X_2 + \cdots$$</div>
            </div>

            <div class="example">
                <div class="example-title">üìä Calculate Portfolio Return</div>
                <p>Model: $\text{RETRF} = 1.53 + 0.59 \cdot \text{MKTRF} - 0.87 \cdot \text{SMB} - 0.06 \cdot
                    \text{HML}$</p>
                <p>Given: MKTRF = 1, SMB = 4, HML = ‚àí2</p>
                <p>$$\hat{Y} = 1.53 + 0.59(1) - 0.87(4) - 0.06(-2) = \boxed{-1.25\%}$$</p>
            </div>
        </section>

        <!-- ASSUMPTIONS -->
        <section class="section" id="assumptions">
            <h2>‚ö†Ô∏è The 5 Assumptions</h2>

            <p>For valid statistical inference, these must hold:</p>

            <div class="table-wrap">
                <table>
                    <tr>
                        <th>#</th>
                        <th>Assumption</th>
                        <th>Plain English</th>
                        <th>Violation = Problem</th>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td><span class="hl">Linearity</span></td>
                        <td>$Y$ and each $X$ have a straight-line relationship</td>
                        <td>Curved patterns in scatterplots</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td><span class="hl">Homoskedasticity</span></td>
                        <td>Residual variance is constant across all observations</td>
                        <td>Funnel/fan shape in residual plot</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td><span class="hl">Independence of Errors</span></td>
                        <td>Today's error doesn't predict tomorrow's (no serial correlation)</td>
                        <td>Wave pattern in residuals over time</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td><span class="hl">Normality</span></td>
                        <td>Residuals follow a bell curve</td>
                        <td>Fat tails in Q-Q plot</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td><span class="hl">No Multicollinearity</span></td>
                        <td>No exact linear relationship among $X$s</td>
                        <td>$X_1$ and $X_2$ are nearly identical</td>
                    </tr>
                </table>
            </div>

            <div class="note warn">
                <div class="note-title">‚ö†Ô∏è Important</div>
                <p>Violations don't make the model useless ‚Äî they affect the <strong>reliability of tests and
                        inferences</strong>. You'll learn how to fix them in LM3.</p>
            </div>

            <h3>Vocabulary Alert</h3>
            <div class="card">
                <ul>
                    <li><span class="hl-green">Homoskedasticity</span> = GOOD (constant variance)</li>
                    <li><span class="hl-pink">Heteroskedasticity</span> = BAD (changing variance)</li>
                </ul>
            </div>
        </section>

        <!-- DIAGNOSTICS -->
        <section class="section" id="diagnostics">
            <h2>üìä Diagnostic Charts</h2>

            <p>The exam shows you charts and asks: "Is the model okay?" Here's how to read them:</p>

            <h3>1. Scatterplot Matrix (Pairwise Plots)</h3>
            <div class="card">
                <p><strong>Shows:</strong> Relationship between every pair of variables</p>
                <p><strong>Check $Y$ vs $X$:</strong> Should be linear (straight cloud). Curved = violation of
                    Linearity.</p>
                <p><strong>Check $X$ vs $X$:</strong> Should be random blob. Perfect line = Multicollinearity.</p>
            </div>

            <h3>2. Residuals vs. Predicted Values</h3>
            <div class="card">
                <p><strong>The most important chart!</strong></p>
                <table>
                    <tr>
                        <th>Shape</th>
                        <th>Meaning</th>
                    </tr>
                    <tr>
                        <td>‚úÖ Random cloud around 0</td>
                        <td>Good! Assumptions OK</td>
                    </tr>
                    <tr>
                        <td>‚ùå Funnel/megaphone</td>
                        <td>Heteroskedasticity (unequal variance)</td>
                    </tr>
                    <tr>
                        <td>‚ùå U-shape or smile</td>
                        <td>Non-linearity (need curved model)</td>
                    </tr>
                </table>
            </div>

            <h3>3. Residuals vs. Independent Variable</h3>
            <div class="card">
                <p><strong>Shows:</strong> Errors plotted against one specific $X$</p>
                <p><strong>Look for:</strong> Patterns or curves ‚Üí that specific $X$ may need transformation (e.g.,
                    $X^2$)</p>
            </div>

            <h3>4. Normal Q-Q Plot</h3>
            <div class="card">
                <p><strong>Shows:</strong> How residuals compare to a perfect normal distribution</p>
                <table>
                    <tr>
                        <th>Shape</th>
                        <th>Meaning</th>
                    </tr>
                    <tr>
                        <td>‚úÖ Dots hug diagonal line</td>
                        <td>Residuals are normal</td>
                    </tr>
                    <tr>
                        <td>‚ùå Dots peel off at ends</td>
                        <td>Fat Tails (extreme outliers more common)</td>
                    </tr>
                </table>
            </div>

            <div class="exam-tip">
                <strong>Chart Summary:</strong><br>
                ‚Ä¢ Scatterplot ‚Üí Check Linearity & Multicollinearity<br>
                ‚Ä¢ Residuals vs Predicted ‚Üí Check Homoskedasticity<br>
                ‚Ä¢ Q-Q Plot ‚Üí Check Normality
            </div>
        </section>

        <!-- OUTPUT -->
        <section class="section" id="output">
            <h2>üìã Reading Regression Output</h2>

            <p>When you run regression in Excel/Python, you get a table. Here's what matters:</p>

            <h3>1. R-Squared ($R^2$) ‚Äî The Accuracy Score</h3>
            <div class="formula-box">
                <div class="label">R-Squared</div>
                <div class="formula">$$R^2 = \frac{SSR}{SST} = 1 - \frac{SSE}{SST}$$</div>
                <div class="desc">% of $Y$'s variation explained by the model</div>
            </div>
            <div class="card">
                <ul>
                    <li>$R^2 = 1.0$ ‚Üí Model explains everything (suspiciously perfect)</li>
                    <li>$R^2 = 0.0$ ‚Üí Model explains nothing (useless)</li>
                    <li><strong>Adjusted $R^2$:</strong> Use when comparing models with different # of $X$s (penalizes
                        adding useless variables)</li>
                </ul>
            </div>

            <h3>2. F-Statistic ‚Äî The Pass/Fail Check</h3>
            <div class="formula-box">
                <div class="label">F-Statistic</div>
                <div class="formula">$$F = \frac{MSR}{MSE} = \frac{SSR/k}{SSE/(n-k-1)}$$</div>
            </div>
            <div class="card">
                <p><strong>Question it answers:</strong> "Is this whole group of $X$s useful?"</p>
                <ul>
                    <li>$p$-value < 0.05 ‚Üí Model works</li>
                    <li>$p$-value > 0.05 ‚Üí Model is garbage, start over</li>
                </ul>
            </div>

            <h3>3. t-Statistic & p-value ‚Äî Individual Coefficient Test</h3>
            <div class="formula-box">
                <div class="label">t-Statistic</div>
                <div class="formula">$$t = \frac{\hat{\beta}_j - \beta_{j,0}}{SE(\hat{\beta}_j)}$$</div>
                <div class="desc">df = $n - k - 1$</div>
            </div>

            <div class="key-point">
                <strong>Quick Rules:</strong><br>
                ‚Ä¢ $|t| > 2$ ‚Üí Coefficient is significant<br>
                ‚Ä¢ $p$-value < 0.05 ‚Üí Coefficient is significant<br>
                    (These always agree with each other)
            </div>

            <h3>4. Standard Error of Estimate (SEE)</h3>
            <div class="formula-box">
                <div class="label">SEE</div>
                <div class="formula">$$SEE = \sqrt{\frac{SSE}{n-k-1}}$$</div>
                <div class="desc">Average prediction error (lower = better)</div>
            </div>

            <h3>ANOVA Table Components</h3>
            <div class="table-wrap">
                <table>
                    <tr>
                        <th>Measure</th>
                        <th>Formula</th>
                        <th>Meaning</th>
                    </tr>
                    <tr>
                        <td>SST</td>
                        <td>$\sum(Y_i - \bar{Y})^2$</td>
                        <td>Total variation in $Y$</td>
                    </tr>
                    <tr>
                        <td>SSR</td>
                        <td>$\sum(\hat{Y}_i - \bar{Y})^2$</td>
                        <td>Explained by regression</td>
                    </tr>
                    <tr>
                        <td>SSE</td>
                        <td>$\sum(Y_i - \hat{Y}_i)^2$</td>
                        <td>Unexplained (residuals)</td>
                    </tr>
                </table>
            </div>

            <div class="formula-box">
                <div class="label">Key Identity</div>
                <div class="formula">$$SST = SSR + SSE$$</div>
                <div class="desc">Total = Explained + Unexplained</div>
            </div>
        </section>

        <!-- TRAPS -->
        <section class="section" id="traps">
            <h2>‚ö†Ô∏è Exam Traps</h2>

            <div class="trap">
                <strong>Trap 1: Missing "Holding Constant"</strong><br>
                If a question asks to interpret $\beta_1$, scan answers for "holding all other variables constant."
                Answers without this phrase are usually WRONG.
            </div>

            <div class="trap">
                <strong>Trap 2: Correlation ‚â† Causation</strong><br>
                Just because $X$ is significant doesn't mean $X$ <em>causes</em> $Y$. They just move together.
            </div>

            <div class="trap">
                <strong>Trap 3: Binary Dependent Variable</strong><br>
                If $Y$ is Yes/No, 0/1, Bankrupt/Not ‚Üí Use <strong>Logistic Regression</strong>, NOT Linear.
            </div>

            <div class="trap">
                <strong>Trap 4: Chart Misinterpretation</strong><br>
                ‚Ä¢ Funnel shape = Heteroskedasticity (variance problem)<br>
                ‚Ä¢ U-shape = Non-linearity (model misspecification)<br>
                ‚Ä¢ Q-Q tail deviation = Fat tails (non-normal residuals)
            </div>

            <div class="trap">
                <strong>Trap 5: Outliers</strong><br>
                Look for "lonely dots" far from the pack in any chart. Outliers can tilt the regression line and distort
                results.
            </div>

            <h3>Quick Decision Guide</h3>
            <div class="table-wrap">
                <table>
                    <tr>
                        <th>If you see...</th>
                        <th>It means...</th>
                    </tr>
                    <tr>
                        <td>$X_1$ vs $X_2$ is a straight line</td>
                        <td>Multicollinearity</td>
                    </tr>
                    <tr>
                        <td>Residuals vs Predicted is funnel-shaped</td>
                        <td>Heteroskedasticity</td>
                    </tr>
                    <tr>
                        <td>Residuals vs Predicted is U-shaped</td>
                        <td>Non-Linearity</td>
                    </tr>
                    <tr>
                        <td>Q-Q plot peels off at ends</td>
                        <td>Fat Tails (Non-Normal)</td>
                    </tr>
                    <tr>
                        <td>Residuals over time show waves</td>
                        <td>Serial Correlation</td>
                    </tr>
                </table>
            </div>

            <div class="exam-tip">
                <strong>Memory Trick for df:</strong><br>
                ‚Ä¢ $n$ = observations<br>
                ‚Ä¢ $k$ = independent variables<br>
                ‚Ä¢ $k + 1$ = total parameters (including intercept)<br>
                ‚Ä¢ $n - k - 1$ = degrees of freedom for error
            </div>
        </section>

    </main>

    <div class="footer-spacer"></div>

    <script>
        const pills = document.querySelectorAll('.nav-pill');
        const sections = document.querySelectorAll('.section');

        pills.forEach(pill => {
            pill.addEventListener('click', () => {
                const targetId = pill.dataset.section;
                pills.forEach(p => p.classList.remove('active'));
                pill.classList.add('active');
                sections.forEach(s => s.classList.remove('active'));
                document.getElementById(targetId).classList.add('active');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });
    </script>

</body>

</html>